{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-dom.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","../../../../app/auth/login/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactDOM\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","\"use client\"\r\n\r\nimport type React from \"react\"\r\n\r\nimport { createClient } from \"@/lib/supabase/client\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport Link from \"next/link\"\r\nimport { useRouter } from \"next/navigation\"\r\nimport { useState } from \"react\"\r\nimport { AlertCircle } from \"lucide-react\"\r\n\r\nexport default function LoginPage() {\r\n  const [email, setEmail] = useState(\"\")\r\n  const [password, setPassword] = useState(\"\")\r\n  const [error, setError] = useState<string | null>(null)\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [adminMode, setAdminMode] = useState(false)\r\n  const [adminPassword, setAdminPassword] = useState(\"\")\r\n  const router = useRouter()\r\n\r\n  const handleLogin = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    setIsLoading(true)\r\n    setError(null)\r\n\r\n    try {\r\n      if (adminMode) {\r\n        // Simple admin authentication\r\n        const ADMIN_PASSWORD = process.env.NEXT_PUBLIC_ADMIN_PASSWORD || \"admin123\"\r\n        console.log(\"Comparing:\", adminPassword, \"with:\", ADMIN_PASSWORD)\r\n        if (adminPassword.trim() !== ADMIN_PASSWORD.trim()) {\r\n          setError(\"Invalid admin password\")\r\n          setIsLoading(false)\r\n          return\r\n        }\r\n        // Store admin access in session storage temporarily\r\n        if (typeof window !== 'undefined') {\r\n          sessionStorage.setItem(\"adminMode\", \"true\")\r\n        }\r\n        router.push(\"/dashboard\")\r\n      } else {\r\n        const supabase = createClient()\r\n        const { error } = await supabase.auth.signInWithPassword({\r\n          email,\r\n          password,\r\n        })\r\n        if (error) throw error\r\n        router.push(\"/dashboard\")\r\n      }\r\n    } catch (error: unknown) {\r\n      setError(error instanceof Error ? error.message : \"An error occurred\")\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-primary/5 via-white to-secondary/5 flex items-center justify-center p-4\">\r\n      <div className=\"w-full max-w-md\">\r\n        <div className=\"text-center mb-8\">\r\n          <h1 className=\"text-4xl font-bold text-foreground mb-2\">NeatStreet</h1>\r\n          <p className=\"text-muted-foreground\">Smart Waste Management</p>\r\n        </div>\r\n\r\n        <Card className=\"eco-card\">\r\n          <CardHeader>\r\n            <CardTitle className=\"text-2xl\">{adminMode ? \"Admin Login\" : \"Sign In\"}</CardTitle>\r\n            <CardDescription>\r\n              {adminMode ? \"Enter your admin password\" : \"Access your waste management dashboard\"}\r\n            </CardDescription>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <form onSubmit={handleLogin} className=\"space-y-6\">\r\n              {!adminMode ? (\r\n                <>\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"email\">Email</Label>\r\n                    <Input\r\n                      id=\"email\"\r\n                      type=\"email\"\r\n                      placeholder=\"your@email.com\"\r\n                      required\r\n                      value={email}\r\n                      onChange={(e) => setEmail(e.target.value)}\r\n                      disabled={isLoading}\r\n                    />\r\n                  </div>\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"password\">Password</Label>\r\n                    <Input\r\n                      id=\"password\"\r\n                      type=\"password\"\r\n                      placeholder=\"••••••••\"\r\n                      required\r\n                      value={password}\r\n                      onChange={(e) => setPassword(e.target.value)}\r\n                      disabled={isLoading}\r\n                    />\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"admin-password\">Admin Password</Label>\r\n                  <Input\r\n                    id=\"admin-password\"\r\n                    type=\"password\"\r\n                    placeholder=\"••••••••\"\r\n                    required\r\n                    value={adminPassword}\r\n                    onChange={(e) => setAdminPassword(e.target.value)}\r\n                    disabled={isLoading}\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              {error && (\r\n                <div className=\"bg-destructive/10 border border-destructive/20 rounded-lg p-3 flex gap-2\">\r\n                  <AlertCircle className=\"text-destructive flex-shrink-0 mt-0.5\" size={18} />\r\n                  <p className=\"text-sm text-destructive\">{error}</p>\r\n                </div>\r\n              )}\r\n\r\n              <Button type=\"submit\" className=\"w-full\" disabled={isLoading} size=\"lg\">\r\n                {isLoading ? (adminMode ? \"Verifying...\" : \"Signing in...\") : adminMode ? \"Access Admin\" : \"Sign In\"}\r\n              </Button>\r\n            </form>\r\n\r\n            <div className=\"mt-6 pt-6 border-t border-border\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => {\r\n                  setAdminMode(!adminMode)\r\n                  setError(null)\r\n                  setEmail(\"\")\r\n                  setPassword(\"\")\r\n                  setAdminPassword(\"\")\r\n                }}\r\n                className=\"w-full text-sm text-muted-foreground hover:text-foreground transition-colors\"\r\n              >\r\n                {adminMode ? \"User Login\" : \"Admin Access\"}\r\n              </button>\r\n            </div>\r\n\r\n            {!adminMode && (\r\n              <div className=\"mt-4 text-center text-sm text-muted-foreground\">\r\n                Don't have an account?{\" \"}\r\n                <Link href=\"/auth/sign-up\" className=\"text-primary hover:underline font-semibold\">\r\n                  Sign up\r\n                </Link>\r\n              </div>\r\n            )}\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":["module","exports","require","vendored","ReactJsxRuntime","ReactDOM","ReactServerDOMTurbopackClient"],"mappings":"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","ignoreList":[0,1,2]}